<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.java.mapper.MyCBoardMapper">

	<!-- 로그인 확인 -->
	<!-- 
	<select id="selectLogin" resultType="com.java.dto.MemberDto">
		select * from userList where id=#{id} and pw=#{pw}
	</select> -->
		<!-- select cpickno, b.cno cno, b.id id, cpickdate, cpickyn, cnm, 
		dongcate, cdodate
		from clubList a join clubPick b on a.cno = b.cno -->
	
		 
	<!-- 운동모임 - 찜한 리스트 전체 가져오기 -->
	<select id="selectClubPickAll" resultType="com.java.dto.CListPickDto">
		select * from (select rownum rnum, c.* from
		(select d.* from 
        (select cpickno, b.cno cno, b.id id, cpickdate, cpickyn,
        cnm, dongcate, cdodate from clubList a join clubPick b 
        on a.cno = b.cno)d order by cpickno) c) 
        where rnum between #{startRow} and #{endRow}
		<!-- select * from (select rownum rnum, a.* from
		(select c.* from clubPick c order by cpickno) a) 
		where rnum between #{startRow} and #{endRow} -->
	</select>
	
	<!-- 찜한 리스트 전체 게시글 수 -->
	<select id="selectListCPick" resultType="int">
		select count(*) from clubPick
	</select>
	
	<!-- 운동모임 - 최근본 리스트 전체 가져오기 -->
	<select id="selectClubCurrAll" resultType="com.java.dto.CListCurrDto">
		select * from (select rownum rnum, c.* from
		(select d.* from 
        (select ccurrno, b.cno cno, b.id id,
        cnm, dongcate, cdodate, ccurrdate from clubList a join clubCurr b 
        on a.cno = b.cno)d order by ccurrno) c) 
        where rnum between #{startRow} and #{endRow}
	</select>
	
	<!-- 최근본 리스트 전체 게시글 수 -->
	<select id="selectListCCurr" resultType="int">
		select count(*) from clubCurr
	</select>
	
	<!-- 운동모임 - 참여한 리스트 전체 가져오기 -->
	<select id="selectClubJoinAll" resultType="com.java.dto.CListJoinDto">
		select d.* from 
        (select clubreviewno, b.cno cno, id, cnm, dongcate, 
        cdodate, giveid from clubList a join clubreviewtemp b 
        on a.cno = b.cno)d order by clubreviewno
	</select>
	
	<!-- 참여한 리스트 전체 게시글 수 -->
	<select id="selectListCJoin" resultType="int">
		select * from clubReviewTemp
	</select>
	
</mapper>